<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8" />
  <link rel="icon" href="/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <title>account_notice</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Anonymous+Pro%3A700"/>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro%3A700"/>
  <link rel="stylesheet" href="/styles/accountnotice.css"/>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
	<div th:replace="./header :: header"></div>
	<section class="d-flex vh-100">
	<div class="accountnotice-wED">
	
	<a href="/account">
    <img class="vector-rry" src="/assets/back_vector.png"/>
	</a>

	  <div class="auto-group-3nnr-any">
	    <div class="title-sXB">
	      <div class="title-czZ">title</div>
	      <div class="auto-group-trkh-X5w" th:text="${post.title}">Teacher Is BAD...</div>
	    </div>
	    <div class="content-bLh">
	      <div class="content-jSu">content</div>
	      <div class="auto-group-xjrb-3yP" th:text="${post.content}">so many homeworks....</div>
	    </div>
	  </div>
	  
<div class="delete-tz1" data-seq="${post.seq}" onclick="deletePost(this);">
    <img class="vector-E2H" src="/assets/trash.png"/>
    <div class="delete-Msb">delete</div>
</div>

	</div>
	</section>
<script>
function deletePost(element) {
    var seq = $(element).data('seq');
    Swal.fire({
        title: '게시글 삭제',
        text: "게시글이 삭제됩니다",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes'
    }).then((result) => {
        if (result.isConfirmed) {
            $.ajax({
                url: '/deletePost/' + seq,
                type: 'DELETE',
                success: function(result) {
                    // 삭제 성공 후 account 페이지로 이동
                    window.location.href = "/account";
                }
            });
        }
    })
}
</script>	


</body>
</html>
